# Экраны и UI

## Header (глобально)
- Кнопка настроек (шестерёнка) открывает страницу настроек.
- Горячие клавиши: стрелки ←/→ циклически переключают `/`, `/stats`, `/time-logs`.

## /settings (Настройки)
- Переключатели темы/языка и выход.
- Управление контекстами и тегами: переименование/удаление с предупреждениями.

## / (Главная)
- Свайпы: влево → Статистика, вправо → Логи времени.
- Показывает активные цели на выбранную дату (по умолчанию сегодня): `is_active = true`, `is_archived = false`, `start_date <= date <= end_date`.
- Календарная лента из 5 дней (центр — выбранный день). Можно листать по одному дню колесиком/свайпом, клик по дню выбирает дату, сегодня подсвечено. Индикаторы: зеленая точка — есть success, желтая — in_progress, красная — fail.
- Сортировка: по статусу периода (success → in_progress → fail → archived), затем по времени создания.
- Фильтры: контекст (single), статус (single), теги (multi), сброс.
- Карточка цели:
  - Counter: ввод значения и отправка (Enter/кнопка, пустое поле = +1).
  - Time: старт/стоп таймера по цели (один активный timer на пользователя).
  - Check: переключение done/undone.
  - Отображение прогресса: текущий actual/target.
- Индикатор статуса и состояния запроса (pending/error) по goal periods.

## / (Лендинг без авторизации)
- Тёмный промо-экран с фоновыми анимациями.
- Короткое описание продукта, 3 ключевых преимущества, список основных модулей.
- Центральная кнопка входа через Google.

## Глобальный таймер (нижняя панель)
- Кнопка Play открывает шторку запуска.
- Требует контекст (создается на лету), теги — опционально.
- Создает time entry без goal_id.
- Кнопка Stop завершает активный таймер.

## /goals/new (Создание цели)
- Поля: title, goal type (time/counter/check), period, direction (gte/lte), target, start/end dates.
- Контекст обязателен, выбирается из списка или создается на лету.
- Теги опциональны, создаются на лету.
- После сохранения пересчитываются goal periods.

## /goals/[id] (Детали цели)
- Сводка цели, период и прогресс за текущий период.
- Редактирование title, end date и тегов.
- Формы ручного ввода событий в зависимости от типа цели.
- Список последних 50 событий с возможностью удалить.
- Архивация скрывает цель из активных экранов; архивная цель отображает отдельное сообщение.

## /stats (Статистика)
- Свайпы: влево → Логи времени, вправо → Главная.
- Период: неделя (Пн–Вс), месяц (по умолчанию) или произвольный диапазон `от/до`.
- Фильтры: контексты (multi), теги (multi).
- Сводка:
  - счетчики статусов периодов целей (success/in_progress/fail).
  - общее отслеживаемое время в формате DD:HH:MM.
- Графики:
  - time by context (stacked bars, отключение контекста кликом).
  - context share (pie).

## /time-logs (Логи времени)
- Свайпы: влево → Главная, вправо → Статистика.
- Список сгруппирован по датам и контекстам.
- Есть фильтры по контекстам и тегам.
- Удаление записей доступно в меню записи или удаление всех по контексту/дате.
